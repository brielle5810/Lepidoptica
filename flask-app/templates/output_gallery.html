<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Output Gallery</title>
     <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
     <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.2/font/bootstrap-icons.min.css" rel="stylesheet">
</head>

<html>
<div id="tableContainer"></div>
    <head>
        <style>
            table {
                margin-left: 40px;
                margin-right: 12px;
            }
            td, th {
                border: 1px solid #ddd;
                padding: 8px;
            }
            th{
                text-align: left;
                background-color: #8ea34e;
                color: white;
                min-width: 150px;
            }
            td {
                text-align: center;
            }
            tr:nth-child(even){background-color: #f3f7e9;}
            td:hover {background-color: #d6dbcc;}

            .zoom-img img {
                max-width: 40%;
                max-height: 40%;
                transition: transform .2s; /* Animation */
                margin: 0 auto;
            }
            .zoom-img img:hover {
                transform: scale(175%); /* (175% zoom) */
                border: 2px solid #3b7548;
            }
            .wrapper {
                text-align: center;
            }
            .button {
                position: sticky;
                bottom: 30%;
                background-color: #cad99a;
                border: 3px solid #004954; border-radius: 10px;
                font-size: 24px; color: #004954;
                transition: transform .3s
            }
            .button:hover {
                background-color: #004954;
                border-radius: 10px;
                color: #cad99a;
                transform: scale(115%);
            }
        </style>
    </head>

    <body>
    <h1 style="padding-left: 10px; color: #006666"><b>DATA EXTRACTION OUTPUT:</b></h1>
    <div style="overflow-x:auto">
        <table id="dataTable">
            <!--? Category names: -->
            <tr style="position: sticky">
                <th>Image</th>
                {% for header in headings %}
                    <th>{{ header }}</th>
                {% endfor %}
            </tr>

            <!--? Rows of Data: -->
            {% for image, row in images_and_data: %}
            <tr>
                <td>
                    <span class="zoom-img">
                        <img src="{{ url_for('download_preprocessed_file', name=image) }}" alt="{{ image }}">
                    </span>
                </td>
                {% for cell in row %}
                <td contenteditable>{{ cell }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </div>

    <div class="wrapper">
        <button class="button">
            <a href="/finished" style="all: unset;"><b>GET CSV</b></a>
        </button>
    </div>

    </body>

</html>

<!--?                <th>Image</th>-->
<!--?                <th>Catalog Number</th>-->
<!--?                <th>Specimen Voucher</th>-->
<!--?                <th>Family</th>-->
<!--?                <th>Genus</th>-->
<!--?                <th>Species</th>-->
<!--?                <th>Subspecies</th>-->
<!--?                <th>Sex</th>-->
<!--?                <th>Country</th>-->
<!--?                <th>State</th>-->
<!--?                <th>County</th>-->
<!--?                <th>Locality Name</th>-->
<!--?                <th>Elevation Min</th>-->
<!--?                <th>Elevation Max</th>-->
<!--?                <th>Elevation Unit</th>-->
<!--?                <th>Collectors</th>-->
<!--?                <th>Latitude</th>-->
<!--?                <th>Longitude</th>-->
<!--?                <th>Geo-referencing Source</th>-->
<!--?                <th>Geo-referencing Precision</th>-->
<!--?                <th>Questionable Label Data</th>-->
<!--?                <th>Do Not Publish</th>-->
<!--?                <th>Collecting Event Start</th>-->
<!--?                <th>Collecting Event End</th>-->
<!--?                <th>Date Verbatim</th>-->
<!--?                <th>Remarks Public</th>-->
<!--?                <th>Remarks Private</th>-->
<!--?                <th>Catalogued Date</th>-->
<!--?                <th>Cataloguer First</th>-->
<!--?                <th>Cataloguer Last</th>-->
<!--?                <th>Prep type 1</th>-->
<!--?                <th>Prep number 1</th>-->
<!--?                <th>Prep type 2</th>-->
<!--?                <th>Prep number 2</th>-->
<!--?                <th>Prep type 3</th>-->
<!--?                <th>Prep number 3</th>-->
<!--?                <th>Other Record Number</th>-->
<!--?                <th>Other Record Source</th>-->
<!--?                <th>Publication</th>-->
<!--?                <th>Publication</th>-->